<template>
  <!-- TODO: get animation working -->
  <div class="dashboardWrapper animated-page au-animate">
    <div class="header">
      <div>
        <networkfeedback></networkfeedback>
      </div>
      <div>
        <connectbutton></connectbutton>
      </div>
    </div>
    <modalscreen on-off.to-view="onOff">
      <div class="content">
        <div class="farmers">
          <div class="heading">Farmers</div>
          <div class="class">Wrap ETH to WETH to provide liquidity!</div>
          <div if.to-view="connected">
            <div class="class">
              <div class="class">
                <div class="class">
                  <label for="ethWethAmount">ETH &RightArrow; WETH</label>
                  <numeric-input id="ethWethAmount"
                    value.two-way="ethWethAmount"
                    placeholder="0.0"></numeric-input>
                </div>
                <button disabled.to-view="!ethWethAmount || ethWethAmount.eq(0)" click.delegate="handleDeposit()">Wrap</button>
              </div>

              <div class="class">
                <div class="class">
                  <label if.to-view="defaultWethEthAmount.gt(0)"><input type="checkbox" checked.bind="maxWeth">Max</label>
                  <div class="class">
                    <label for="wethEthAmount">WETH &RightArrow; ETH</label>
                    <numeric-input id="wethEthAmount"
                      defaultvalue.to-view="maxWeth ? defaultWethEthAmount : undefined"
                      value.two-way="wethEthAmount"
                      placeholder="0.0"></numeric-input>
                  </div>
                  <button disabled.to-view="!wethEthAmount || wethEthAmount.eq(0)" click.delegate="handleWithdraw()">Unwrap</button>
                </div>
              </div>
            </div>

          </div>
          <div class="class">Want to put your PRIME to use? Contribute liquidity to the Prime Pool to earn more PRIME
            tokens.</div>
          <div class="class">Adding liquidity will exchange your PRIME or WETH (wrapped ETH) into liquidity provider
            tokens called BPRIME.</div>
          <div>Removing liquidity will exchange your liquidity provider tokens into PRIME and WETH, claiming any
            accrued
            rewards.</div>
          <div class="poolStatus">
            <div class="liquidity">
              <div class="label">Liquidity</div>
              <div class="value">
                <!-- TODO: get dollars and convert to millions or whatever -->
                $<floating-point-number class="balance" value.to-view="liquidityBalance | ethwei" precision="10"
                  placement.to-view="top"></floating-point-number>
              </div>

            </div>
            <div class="swapfee">
              <div class="label">Swap fee</div>
              <div class="value">
                <floating-point-number class="fee" value.to-view="swapfee | ethwei" precision="4"
                  placement.to-view="top"></floating-point-number>%
              </div>
            </div>
            <div class="poolshare">
              <div class="label">My pool share</div>
              <div class="value" if.to-view="connected">
                <floating-point-number class="share" value.to-view="poolshare | ethwei" precision="4"
                  placement.to-view="top"></floating-point-number>%
              </div>
              <div else>--</div>
            </div>
            <div class="visitBalancer">Visit the Prime Liquidity Pool on Balancer for more pool information</div>

            <div class="liquidityButtons" if.to-view="connected">
              <button class="addLiquidity" click.delegate="handleAddLiquidity()">Add Liquidity</button>
              <button class="removeLiquidity">Remove Liquidity</button>
            </div>
            <div class="class">Stake your BPRIME tokens to the Prime Liquidity Pool to earn more PRIME tokens.</div>
            <div class="currentAPY">
              <div class="label">Current APY</div>
              <div class="value">
                <floating-point-number class="share" value.to-view="currentAPY | ethwei" precision="4"
                  placement.to-view="top"></floating-point-number>%
              </div>
            </div>
            <div class="primeFarmed">You've farmed <floating-point-number if.to-view="connected" class="share" value.to-view="primeFarmed | ethwei" precision="8"
                placement.to-view="top"></floating-point-number>
              <div else>--</div> PRIME!
            </div>
            <div class="stakingButtons" if.to-view="connected">
              <button class="stakeBPrime">Stake BPRIME tokens</button>
              <button class="harvestYield">Harvest Yield</button>
              <button class="harvestAndWithdraw">Harvest and Withdraw</button>
            </div>
          </div>
        </div>
      </div>
    </modalscreen>
  </div>
</template>
