<template>
  <div class="animated-page au-animate dashboardContainer">
    <div class="learnmore">
      <div class="title">PRIME Pool</div>
      <div class="blurb">Put your tokens to use by contributing liquidity to the Prime Pool. By doing so, you can earn more PRIME tokens.</div>
      <div class="moreinfo">Learn more about Liquidity Pools</div>
      <img src="/PD_APP_LIQ-POOL-MANAGER_V01-1-02.png" />
    </div>
    <div class="prepare">
      <div class="section top section1">
        <div class="heading1">Prepare Your Assets</div>
        <div class="blurb">You can contribute liquidity in either PRIME, ETH, or both. If you have ETH, you'll need to wrap it first and create wrapped-ETH, or WETH. Don't worry â€” you won't lose your ETH by wrapping it, as it can be unwrapped in the future.</div>
        <div class="moreinfo">You can acquire PRIME and ETH using the Prime Aggregator</div>
      </div>
      <div class="section bottom section2">
        <div class="inputButtonGroup">
          <div class="inputGroup">
            <label for="ethWethAmount">ETH &RightArrow; WETH</label>
            <numeric-input id="ethWethAmount"
              value.two-way="ethWethAmount"
              placeholder="0.0"></numeric-input>
          </div>
          <button class="button1" disabled.to-view="!ethWethAmount || ethWethAmount.eq(0)" click.delegate="handleDeposit()">Wrap</button>
        </div>
        <div class="class">
          <div class="inputButtonGroup">
            <div class="inputGroup">
              <label for="wethEthAmount">WETH &RightArrow; ETH</label>
              <numeric-input id="wethEthAmount"
                defaultvalue.to-view="defaultWethEthAmount"
                value.two-way="wethEthAmount"
                placeholder="0.0"></numeric-input>
            </div>
            <label if.to-view="userWethBalance.gt(0)"><button class="button4" click.delegate="handleGetMax()">Max</button></label>
            <button class="button2" disabled.to-view="!wethEthAmount || wethEthAmount.eq(0)" click.delegate="handleWithdraw()">Unwrap</button>
          </div>
        </div>
      </div>
    </div>

    <div class="contribute">
      <div class="section top section1">
        <div class="heading1">Contribute Liquidity</div>
        <div class="class">Want to put your PRIME to use? Contribute liquidity to the Prime Pool to earn more PRIME
          tokens.</div>
        <div class="class">Adding liquidity will exchange your PRIME or WETH (wrapped ETH) into liquidity provider
          tokens called BPRIME.</div>
        <div>Removing liquidity will exchange your liquidity provider tokens into PRIME and WETH, claiming any
          accrued
          rewards.</div>
        <div class="visitBalancer">Visit the Prime Liquidity Pool on Balancer for more pool information</div>
      </div>
      <div class="section middle section2">
        <div class="value">
          <!-- TODO: get dollars and convert to millions or whatever -->
          $<formatted-number
            class="balance"
            value.to-view="liquidityBalance | ethwei"
            format="0.00a"
            placement.to-view="top">
          </formatted-number>
        </div>
        <div class="label">Liquidity</div>
      </div>
      <div class="section middle section3">
        <div class="swapfee">
          <div class="value">
            <floating-point-number class="fee" value.to-view="swapfee | ethwei" precision="4"
              placement.to-view="top"></floating-point-number>%
          </div>
          <div class="label">Swap fee</div>
        </div>
        <div class="poolshare">
          <div class="value" if.to-view="connected">
            <floating-point-number class="share" value.to-view="poolshare | ethwei" precision="4"
              placement.to-view="top"></floating-point-number>%
          </div>
          <div else>--</div>
          <div class="label">My pool share</div>
        </div>
      </div>
      <div class="section bottom section4">
        <div class="liquidityButtons">
          <button class="button1 addLiquidity" click.delegate="handleLiquidity()">Add Liquidity</button>
          <button class="button2 removeLiquidity" click.delegate="handleLiquidity(true)">Remove Liquidity</button>
        </div>
      </div>
    </div>
    <div class="farming">
      <div class="section top section1">
        <div class="heading1">Start Farming</div>
        <div class="class">Earn PRIME rewards by staking BPRIME tokens!</div>
      </div>
      <div class="section middle section2">
        <div class="currentAPY">
          <div class="value">
            <floating-point-number class="share" value.to-view="currentAPY | ethwei" precision="4"
              placement.to-view="top"></floating-point-number>%
          </div>
          <div class="label">Current APY</div>
        </div>
        <div class="primeFarmed">
          <div class="value">
            <floating-point-number if.to-view="connected" class="share" value.to-view="primeFarmed | ethwei" precision="8"
              placement.to-view="top"></floating-point-number>
            <span else>--</span> PRIME
          </div>
          <div class="label">PRIME Farmed</div>
        </div>
      </div>
      <div class="section bottom section3">
        <div class="stakingButtons">
          <button class="button1 stakeBPrime" click.delegate="handleStaking()">Stake BPRIME tokens</button>
          <button class="button2 harvestYield" click.delegate="handleStaking(true)">Harvest Yield</button>
          <button class="button3 harvestAndWithdraw" click.delegate="handleStakingExit()"">Harvest and Withdraw</button>
        </div>
      </div>
    </div>
  </div>
</template>
